{% extends 'base/base.html' %}

{% block title %} <title>Basket</title> {% endblock title %}
{% block content %}

<div class="container row">
{% for basket in baskets %}
    <div class="box mt-2 {% if baskets.count < 4 %} col-3 {% else %} col-4 {% endif %}">
        <div class="card border border-info" style="width: 20rem;">
            <img src="{{ basket.purchases.product.image.url }}" style="width:318px;height:300px;" class="card-img-top" alt="There's a image">
            <div class="card-body bg-dark">
              <h5 class="card-title text-info">{{ basket.purchases.product.name }}</h5>
              <p class="card-text text-info">{{ basket.purchases.product.description }}</p>
              <span><p class="card-text text-info disabled">Price: {{ basket.purchases.product.price }}</p></span>
              <span><button class="btn btn-info"><a href="{% url 'products:remove_from_basket' basket.purchases.pk %}">Remove</a></button></span>
            </div>
        </div>    
    </div>
{% endfor %}
{% if baskets %}
<div class="container bg-dark text-info border rounded p-3 mt-5 border text-start">
    <h5 class="bold">Total Price: {{ total_price }}</h5>
    <button class="btn btn-dark border border-info"><a href="#" class="text-decoration-none text-info">Go to Pay</a></button>
</div>
{% else %}
<h4 class="text-center mt-5">Your basket is empty :(</h4>
{% endif %}
</div>
    
{% endblock content %}
